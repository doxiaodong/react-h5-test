(this.webpackJsonph5test=this.webpackJsonph5test||[]).push([[4],{237:function(e,t,n){},238:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(10),o=n(9),l=n.n(o);n(239);t.a=function(e){var t=Object(c.h)(),n=l()({"l-route-layout":!0,"l-route-layout-hide":e.pathname!==t.pathname});return a.a.createElement("div",{className:n},e.children)}},239:function(e,t,n){},241:function(e,t,n){"use strict";var r=n(15),a=n(240),c=n(19),o=n(0);function l(){var e=Object(o.useRef)(!1),t=Object(o.useCallback)((function(){return e.current}),[]);return Object(o.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),t}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loading:!1},r=Object(o.useRef)(0),a=Object(o.useState)(n),u=Object(c.a)(a,2),i=u[0],s=u[1],f=l(),d=Object(o.useCallback)((function(){var t=++r.current;return s({loading:!0}),e.apply(void 0,arguments).then((function(e){return f()&&t===r.current&&s({value:e,loading:!1}),e}),(function(e){return f()&&t===r.current&&s({error:e,loading:!1}),e}))}),t);return[i,d]}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u(e,t,{loading:!0}),r=Object(c.a)(n,2),a=r[0],l=r[1];return Object(o.useEffect)((function(){l()}),[l]),a}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(o.useState)(0),l=Object(c.a)(n,2),u=l[0],s=l[1],f=i(e,[].concat(Object(a.a)(t),[u])),d=f.loading,m=Object(o.useCallback)((function(){d||s((function(e){return e+1}))}),[].concat(Object(a.a)(t),[d]));return Object(r.a)({},f,{retry:m})}},250:function(e,t,n){},251:function(e,t,n){},253:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(9),o=n.n(c),l=(n(237),function(e){var t=o()("c-orderItem",e.status&&"c-orderItem-".concat(e.status));return a.a.createElement("div",{onClick:function(){e.onClick&&e.onClick(e.dataItem)},className:t},a.a.createElement("div",{className:"c-orderItem-title"},a.a.createElement("div",{className:"c-orderItem-title-main"},e.title),a.a.createElement("div",{className:"c-orderItem-title-sub"},e.subTitle)),a.a.createElement("div",{className:"c-orderItem-extra"},a.a.createElement("div",{className:"c-orderItem-extra-main"},e.extra),a.a.createElement("div",{className:"c-orderItem-extra-sub"},e.subExtra)))}),u=function(e){var t=o()("c-orderList",e.className);return 0===e.dataSource.length?a.a.createElement("div",{className:"c-orderList-empty"},"\u6682\u65e0\u6570\u636e"):a.a.createElement("div",{className:t,style:e.style},e.showLoadMore&&a.a.createElement("div",{className:"c-orderList-down-text"}," \u4e0b\u62c9\u5237\u65b0\u52a0\u8f7d\u66f4\u591a "),e.dataSource.map((function(t,n){return a.a.createElement(l,Object.assign({onClick:e.onClick,key:"orderItem-".concat(n)},t))})))};u.defaultProps={dataSource:[]};t.a=u},256:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n(72),l=n.n(o),u=n(46),i=n(238),s=n(61),f=n.n(s),d=n(70),m=n(244),v=n(241),b=n(19),p=n(249),E=n(9),h=n.n(E),O=n(89),j=n.n(O);n(251);function g(){return a.a.createElement("div",{className:"c-loading"},a.a.createElement("div",{className:"c-loading-content"},a.a.createElement(j.a,{type:"Oval",color:"#ee764e",height:10,width:10,timeout:3e4}),a.a.createElement("div",{className:"c-loading-text"},"\u52a0\u8f7d\u4e2d...")))}var y=function(e,t){var n;return function(){for(var r=this,a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,c),clearTimeout(n)}),t)}},w=(n(250),Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(),c=Object(b.a)(n,2),o=c[0],l=c[1],u=Object(r.useRef)(),i=e.direction,s=e.click,f=e.refresh,d=e.pullUpLoading,m=e.pullDownLoading,v=e.bounceTop,E=e.bounceBottom,O=e.pullUp,j=e.pullDown,w=e.onScroll,N=Object(r.useMemo)((function(){return y(O,50)}),[O]),k=Object(r.useMemo)((function(){return y(j,50)}),[j]);Object(r.useEffect)((function(){var e=new p.a(u.current,{scrollX:"horizental"===i,scrollY:"vertical"===i,probeType:3,click:s,bounce:{top:v,bottom:E}});return l(e),function(){l(null)}}),[]),Object(r.useEffect)((function(){if(o&&w)return o.on("scroll",w),function(){o.off("scroll",w)}}),[w,o]),Object(r.useEffect)((function(){if(o&&O){var e=function(){o.y<=o.maxScrollY+100&&N()};return o.on("scrollEnd",e),function(){o.off("scrollEnd",e)}}}),[O,N,o]),Object(r.useEffect)((function(){if(o&&j){var e=function(e){e.y>30&&k()};return o.on("touchEnd",e),function(){o.off("touchEnd",e)}}}),[j,k,o]),Object(r.useEffect)((function(){f&&o&&o.refresh()})),Object(r.useImperativeHandle)(t,(function(){return{refresh:function(){o&&(o.refresh(),o.scrollTo(0,0))},getBScroll:function(){if(o)return o}}}));var x=d?{display:""}:{display:"none"},I=m?{display:""}:{display:"none"},L=h()({"l-scroll":!0,"l-scroll-up":d,"l-scroll-down":m});return a.a.createElement("div",{className:L,ref:u},e.children,a.a.createElement("div",{style:x,className:"l-scroll-loading-up"},a.a.createElement(g,null)),a.a.createElement("div",{style:I,className:"l-scroll-loading-down"},a.a.createElement(g,null)))})));w.defaultProps={direction:"vertical",click:!0,refresh:!0,pullUpLoading:!1,pullDownLoading:!1,bounceTop:!0,bounceBottom:!0};var N=w,k=n(253),x=n(73),I=function(e){Object(c.g)();var t=Object(r.useRef)(null),n=Object(v.a)(Object(d.a)(f.a.mark((function t(){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){return a.a.createElement("span",null,"\u5ba1\u6279\u4eba\uff1a",e.approver)},t.next=3,x.a.get(e.url);case 3:return n=t.sent,r=n||[],t.abrupt("return",r.map((function(e){return{dataItem:e,title:e.title,subTitle:c(e),status:e.status,extra:a.a.createElement("span",null,"\u6765\u81ea ",a.a.createElement("b",{style:{color:"#ee764e"}},e.from_msg)),subExtra:e.updated}})));case 6:case"end":return t.stop()}}),t)}))),[u.a.orderList]);return a.a.createElement("div",null,a.a.createElement(N,{ref:t,onScroll:m.forceCheck,pullUp:n.retry,pullDown:n.retry,pullDownLoading:n.loading},a.a.createElement(k.a,{style:{position:"fixed",overflow:"hidden",top:-80},showLoadMore:!0,onClick:function(e){"/order/".concat(e.id)},dataSource:n.value||[]})))};t.default=function(e){var t=Object(c.h)();Object(c.g)(),l.a.parse(t.search);return a.a.createElement("div",null,a.a.createElement(i.a,{pathname:"/custom"},a.a.createElement(I,{url:u.a.orderMyList})))}}}]);
//# sourceMappingURL=4.b2641302.chunk.js.map