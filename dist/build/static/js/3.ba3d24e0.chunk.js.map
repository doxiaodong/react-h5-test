{"version":3,"sources":["layouts/RouteLayout/index.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","hooks/useMountedState.ts","hooks/useAsyncFn.ts","hooks/useAsync.ts","hooks/useAsyncRetry.ts","../node_modules/antd-mobile/es/pull-to-refresh/locale/zh_CN.js","components/OrderList/OrderItem.tsx","components/OrderList/index.tsx","../node_modules/rmc-pull-to-refresh/es/PullToRefresh.js","../node_modules/rmc-pull-to-refresh/es/index.js","../node_modules/antd-mobile/es/pull-to-refresh/index.js","../node_modules/antd-mobile/es/_util/getLocale.js","pages/AntList/TabContent.tsx","pages/AntList/index.tsx"],"names":["RouteLayout","props","location","useLocation","routeCls","classNames","pathname","className","children","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","useMountedState","mountedRef","useRef","get","useCallback","current","useEffect","useAsyncFn","fn","deps","initialState","loading","lastCallId","useState","state","set","isMounted","callback","callId","then","value","error","useAsync","useAsyncRetry","attempt","setAttempt","stateLoading","retry","currentAttempt","activateText","deactivateText","finishText","OrderItem","wrapperClass","classnames","status","onClick","dataItem","title","subTitle","extra","subExtra","List","dataSource","length","style","showLoadMore","map","item","idx","key","defaultProps","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","StaticRenderer","_React$Component","_classCallCheck","this","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","arguments","_inherits","_createClass","nextProps","shouldUpdate","React","createElement","render","Component","setTransform","nodeStyle","transform","webkitTransform","MozTransform","isWebView","navigator","test","userAgent","DOWN","UP","INDICATOR","activate","deactivate","release","finish","supportsPassive","opts","defineProperty","window","addEventListener","willPreventDefault","passive","PullToRefresh","_React$Component2","_this2","currSt","dragOnEdge","_isMounted","shouldUpdateChildren","triggerPullToRefresh","refreshing","direction","_lastScreenY","distanceToRefresh","setState","setContentStyle","reset","init","ele","_to","touchstart","onTouchStart","bind","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","keys","forEach","destroy","removeEventListener","_ele","_ScreenY","_startScreenY","touches","screenY","isEdge","container","getScrollContainer","document","body","scrollNode","scrollingElement","scrollHeight","scrollTop","innerHeight","clientHeight","damping","dy","Math","abs","screen","height","scale","_screenY","preventDefault","_diff","round","changedTouches","clientY","_timer","setTimeout","undefined","onRefresh","ty","contentRef","prevProps","_this3","containerRef","_this4","_extends","prefixCls","indicator","restProps","renderChildren","renderRefresh","cls","cla","ref","el","_getComponentLocale","context","componentName","getDefaultLocale","locale","antLocale","defaultLocale","result","lang","getComponentLocale","require","ind","Icon","type","RPullToRefresh","contextTypes","PropTypes","TabContent","useHistory","renderSubTitle","a","approver","Http","url","response","items","color","from_msg","updated","Api","orderList","wrapperStyle","id","OrderList","queryString","parse","search","orderMyList"],"mappings":"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","file":"static/js/3.ba3d24e0.chunk.js","sourcesContent":["import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\nimport './style.less';\n\ninterface IRouteProps {\n  pathname: string;\n  children?: React.ReactNode;\n}\n\nconst RouteLayout = (props: IRouteProps) => {\n  const location = useLocation();\n  const routeCls = classNames({\n    'l-route-layout': true,\n    'l-route-layout-hide': props.pathname !== location.pathname,\n  });\n  return <div className={routeCls}>{props.children}</div>;\n};\n\nexport default RouteLayout;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useCallback, useEffect, useRef } from 'react';\n\nexport default function useMountedState(): () => boolean {\n  const mountedRef = useRef<boolean>(false);\n  const get = useCallback(() => mountedRef.current, []);\n\n  useEffect(() => {\n    mountedRef.current = true;\n\n    return () => {\n      mountedRef.current = false;\n    };\n  });\n\n  return get;\n}\n","/* eslint-disable */\nimport { DependencyList, useCallback, useState, useRef } from 'react';\nimport { Toast } from 'antd-mobile';\nimport useMountedState from './useMountedState';\n\nexport type AsyncState<T> =\n  | {\n      loading: boolean;\n      error?: undefined;\n      value?: undefined;\n    }\n  | {\n      loading: false;\n      error: Error;\n      value?: undefined;\n    }\n  | {\n      loading: false;\n      error?: undefined;\n      value: T;\n    };\n\nexport type AsyncFn<Result = any, Args extends any[] = any[]> = [\n  AsyncState<Result>,\n  (...args: Args | []) => Promise<Result>\n];\n\nexport default function useAsyncFn<Result = any, Args extends any[] = any[]>(\n  fn: (...args: Args | []) => Promise<Result>,\n  deps: DependencyList = [],\n  initialState: AsyncState<Result> = { loading: false }\n): AsyncFn<Result, Args> {\n  const lastCallId = useRef(0);\n  const [state, set] = useState<AsyncState<Result>>(initialState);\n  \n  const isMounted = useMountedState();\n\n  const callback = useCallback((...args: Args | []) => {\n    const callId = ++lastCallId.current;\n    set({ loading: true });\n\n    return fn(...args).then(\n      value => {\n        isMounted() && callId === lastCallId.current && set({ value, loading: false });\n\n        return value;\n      },\n      error => {\n        isMounted() && callId === lastCallId.current && set({ error, loading: false });\n\n        return error;\n      }\n    );\n  }, deps);\n\n  return [state, callback];\n}\n","import { DependencyList, useEffect } from 'react';\nimport useAsyncFn from './useAsyncFn';\n\nexport default function useAsync<Result = any, Args extends any[] = any[]>(\n  fn: (...args: Args | []) => Promise<Result>,\n  deps: DependencyList = [],\n) {\n  const [state, callback] = useAsyncFn<Result, Args>(fn, deps, {\n    loading: true,\n  });\n\n  useEffect(() => {\n    callback();\n  }, [callback]);\n\n  return state;\n}\n","/* eslint-disable */\nimport { DependencyList, useCallback, useState } from 'react';\nimport {AsyncState} from './useAsyncFn';\nimport useAsync from './useAsync';\n\nexport type AsyncStateRetry<T> = AsyncState<T> & {\n  retry(): void;\n};\n\nconst useAsyncRetry = <T>(fn: () => Promise<T>, deps: DependencyList = []) => {\n  const [attempt, setAttempt] = useState<number>(0);\n  const state = useAsync(fn, [...deps, attempt]);\n\n  const stateLoading = state.loading;\n  const retry = useCallback(() => {\n    if (stateLoading) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log('You are calling useAsyncRetry hook retry() method while loading in progress, this is a no-op.');\n      }\n\n      return;\n    }\n\n    setAttempt(currentAttempt => currentAttempt + 1);\n  }, [...deps, stateLoading]);\n\n  return { ...state, retry };\n};\n\nexport default useAsyncRetry;\n","export default {\n    activateText: '松开立即刷新',\n    deactivateText: '下拉可以刷新',\n    finishText: '完成刷新'\n};","import React from 'react';\nimport classnames from 'classnames';\nimport './style.less';\nexport interface IOrderItemProps {\n  title: string | React.ReactNode;\n  subTitle: string | React.ReactNode;\n  extra: string | React.ReactNode;\n  subExtra: string | React.ReactNode;\n  dataItem: any;\n  onClick?: (any) => void;\n  status?: 'success' | 'info' | 'error' | 'warning';\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nconst OrderItem = (props: IOrderItemProps) => {\n  // console.info(props.status);\n  const wrapperClass = classnames('c-orderItem', props.status && `c-orderItem-${props.status}`);\n\n  const handleClick = () => {\n    if (props.onClick) {\n      props.onClick(props.dataItem);\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={wrapperClass}>\n      <div className=\"c-orderItem-title\">\n        <div className=\"c-orderItem-title-main\">{props.title}</div>\n        <div className=\"c-orderItem-title-sub\">{props.subTitle}</div>\n      </div>\n      <div className=\"c-orderItem-extra\">\n        <div className=\"c-orderItem-extra-main\">{props.extra}</div>\n        <div className=\"c-orderItem-extra-sub\">{props.subExtra}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderItem;\n","import React, { forwardRef, ElementRef } from 'react';\nimport classnames from 'classnames';\nimport OrderItem, { IOrderItemProps } from './OrderItem';\nimport './style.less';\n\ninterface IListProps {\n  dataSource: IOrderItemProps[];\n  className?: string;\n  showLoadMore?: boolean;\n  style?: React.CSSProperties;\n  onClick?: (any) => void;\n}\n\nconst List = (props: IListProps) => {\n  const wrapperClass = classnames('c-orderList', props.className);\n\n  if (props.dataSource.length === 0) {\n    return <div className=\"c-orderList-empty\">暂无数据</div>;\n  }\n\n  return (\n    <div className={wrapperClass} style={props.style}>\n      {props.showLoadMore && <div className=\"c-orderList-down-text\"> 下拉刷新加载更多 </div>}\n      {props.dataSource.map((item, idx) => {\n        return <OrderItem onClick={props.onClick} key={`orderItem-${idx}`} {...item} />;\n      })}\n    </div>\n  );\n};\n\nList.defaultProps = {\n  dataSource: [],\n};\n\nexport default List;\n","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport React from 'react';\nimport classNames from 'classnames';\n\nvar StaticRenderer = function (_React$Component) {\n    _inherits(StaticRenderer, _React$Component);\n\n    function StaticRenderer() {\n        _classCallCheck(this, StaticRenderer);\n\n        return _possibleConstructorReturn(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\n    }\n\n    _createClass(StaticRenderer, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps) {\n            return nextProps.shouldUpdate;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'div',\n                null,\n                this.props.render()\n            );\n        }\n    }]);\n\n    return StaticRenderer;\n}(React.Component);\n\nfunction setTransform(nodeStyle, value) {\n    nodeStyle.transform = value;\n    nodeStyle.webkitTransform = value;\n    nodeStyle.MozTransform = value;\n}\nvar isWebView = typeof navigator !== 'undefined' && /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);\nvar DOWN = 'down';\nvar UP = 'up';\nvar INDICATOR = { activate: 'release', deactivate: 'pull', release: 'loading', finish: 'finish' };\nvar supportsPassive = false;\ntry {\n    var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n            supportsPassive = true;\n        }\n    });\n    window.addEventListener('test', null, opts);\n} catch (e) {\n    // empty\n}\nvar willPreventDefault = supportsPassive ? { passive: false } : false;\n// const willNotPreventDefault = supportsPassive ? { passive: true } : false;\n\nvar PullToRefresh = function (_React$Component2) {\n    _inherits(PullToRefresh, _React$Component2);\n\n    function PullToRefresh() {\n        _classCallCheck(this, PullToRefresh);\n\n        // https://github.com/yiminghe/zscroller/blob/2d97973287135745818a0537712235a39a6a62a1/src/Scroller.js#L355\n        // currSt: `activate` / `deactivate` / `release` / `finish`\n        var _this2 = _possibleConstructorReturn(this, (PullToRefresh.__proto__ || Object.getPrototypeOf(PullToRefresh)).apply(this, arguments));\n\n        _this2.state = {\n            currSt: 'deactivate',\n            dragOnEdge: false\n        };\n        _this2._isMounted = false;\n        _this2.shouldUpdateChildren = false;\n        _this2.triggerPullToRefresh = function () {\n            // 在初始化时、用代码 自动 触发 pullToRefresh\n            // 注意：当 direction 为 up 时，当 visible length < content length 时、则看不到效果\n            // 添加this._isMounted的判断，否则组建一实例化，currSt就会是finish\n            if (!_this2.state.dragOnEdge && _this2._isMounted) {\n                if (_this2.props.refreshing) {\n                    if (_this2.props.direction === UP) {\n                        _this2._lastScreenY = -_this2.props.distanceToRefresh - 1;\n                    }\n                    if (_this2.props.direction === DOWN) {\n                        _this2._lastScreenY = _this2.props.distanceToRefresh + 1;\n                    }\n                    // change dom need after setState\n                    _this2.setState({ currSt: 'release' }, function () {\n                        return _this2.setContentStyle(_this2._lastScreenY);\n                    });\n                } else {\n                    _this2.setState({ currSt: 'finish' }, function () {\n                        return _this2.reset();\n                    });\n                }\n            }\n        };\n        _this2.init = function (ele) {\n            if (!ele) {\n                // like return in destroy fn ???!!\n                return;\n            }\n            _this2._to = {\n                touchstart: _this2.onTouchStart.bind(_this2, ele),\n                touchmove: _this2.onTouchMove.bind(_this2, ele),\n                touchend: _this2.onTouchEnd.bind(_this2, ele),\n                touchcancel: _this2.onTouchEnd.bind(_this2, ele)\n            };\n            Object.keys(_this2._to).forEach(function (key) {\n                ele.addEventListener(key, _this2._to[key], willPreventDefault);\n            });\n        };\n        _this2.destroy = function (ele) {\n            if (!_this2._to || !ele) {\n                // componentWillUnmount fire before componentDidMount, like forceUpdate ???!!\n                return;\n            }\n            Object.keys(_this2._to).forEach(function (key) {\n                ele.removeEventListener(key, _this2._to[key]);\n            });\n        };\n        _this2.onTouchStart = function (_ele, e) {\n            _this2._ScreenY = _this2._startScreenY = e.touches[0].screenY;\n            // 一开始 refreshing 为 true 时 this._lastScreenY 有值\n            _this2._lastScreenY = _this2._lastScreenY || 0;\n        };\n        _this2.isEdge = function (ele, direction) {\n            var container = _this2.props.getScrollContainer();\n            if (container && container === document.body) {\n                // In chrome61 `document.body.scrollTop` is invalid\n                var scrollNode = document.scrollingElement ? document.scrollingElement : document.body;\n                if (direction === UP) {\n                    return scrollNode.scrollHeight - scrollNode.scrollTop <= window.innerHeight;\n                }\n                if (direction === DOWN) {\n                    return scrollNode.scrollTop <= 0;\n                }\n            }\n            if (direction === UP) {\n                return ele.scrollHeight - ele.scrollTop === ele.clientHeight;\n            }\n            if (direction === DOWN) {\n                return ele.scrollTop <= 0;\n            }\n        };\n        _this2.damping = function (dy) {\n            if (Math.abs(_this2._lastScreenY) > _this2.props.damping) {\n                return 0;\n            }\n            var ratio = Math.abs(_this2._ScreenY - _this2._startScreenY) / window.screen.height;\n            dy *= (1 - ratio) * _this2.props.scale;\n            return dy;\n        };\n        _this2.onTouchMove = function (ele, e) {\n            // 使用 pageY 对比有问题\n            var _screenY = e.touches[0].screenY;\n            var direction = _this2.props.direction;\n            // 拖动方向不符合的不处理\n\n            if (direction === UP && _this2._startScreenY < _screenY || direction === DOWN && _this2._startScreenY > _screenY) {\n                return;\n            }\n            if (_this2.isEdge(ele, direction)) {\n                if (!_this2.state.dragOnEdge) {\n                    // 当用户开始往上滑的时候isEdge还是false的话，会导致this._ScreenY不是想要的，只有当isEdge为true时，再上滑，才有意义\n                    // 下面这行代码解决了上面这个问题\n                    _this2._ScreenY = _this2._startScreenY = e.touches[0].screenY;\n                    _this2.setState({ dragOnEdge: true });\n                }\n                e.preventDefault();\n                // add stopPropagation with fastclick will trigger content onClick event. why?\n                // ref https://github.com/ant-design/ant-design-mobile/issues/2141\n                // e.stopPropagation();\n                var _diff = Math.round(_screenY - _this2._ScreenY);\n                _this2._ScreenY = _screenY;\n                _this2._lastScreenY += _this2.damping(_diff);\n                _this2.setContentStyle(_this2._lastScreenY);\n                if (Math.abs(_this2._lastScreenY) < _this2.props.distanceToRefresh) {\n                    if (_this2.state.currSt !== 'deactivate') {\n                        // console.log('back to the distance');\n                        _this2.setState({ currSt: 'deactivate' });\n                    }\n                } else {\n                    if (_this2.state.currSt === 'deactivate') {\n                        // console.log('reach to the distance');\n                        _this2.setState({ currSt: 'activate' });\n                    }\n                }\n                // https://github.com/ant-design/ant-design-mobile/issues/573#issuecomment-339560829\n                // iOS UIWebView issue, It seems no problem in WKWebView\n                if (isWebView && e.changedTouches[0].clientY < 0) {\n                    _this2.onTouchEnd();\n                }\n            }\n        };\n        _this2.onTouchEnd = function () {\n            if (_this2.state.dragOnEdge) {\n                _this2.setState({ dragOnEdge: false });\n            }\n            if (_this2.state.currSt === 'activate') {\n                _this2.setState({ currSt: 'release' });\n                _this2._timer = setTimeout(function () {\n                    if (!_this2.props.refreshing) {\n                        _this2.setState({ currSt: 'finish' }, function () {\n                            return _this2.reset();\n                        });\n                    }\n                    _this2._timer = undefined;\n                }, 1000);\n                _this2.props.onRefresh();\n            } else {\n                _this2.reset();\n            }\n        };\n        _this2.reset = function () {\n            _this2._lastScreenY = 0;\n            _this2.setContentStyle(0);\n        };\n        _this2.setContentStyle = function (ty) {\n            // todos: Why sometimes do not have `this.contentRef` ?\n            if (_this2.contentRef) {\n                setTransform(_this2.contentRef.style, 'translate3d(0px,' + ty + 'px,0)');\n            }\n        };\n        return _this2;\n    }\n\n    _createClass(PullToRefresh, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps) {\n            this.shouldUpdateChildren = this.props.children !== nextProps.children;\n            return true;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (prevProps === this.props || prevProps.refreshing === this.props.refreshing) {\n                return;\n            }\n            // triggerPullToRefresh 需要尽可能减少 setState 次数\n            this.triggerPullToRefresh();\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this3 = this;\n\n            // `getScrollContainer` most likely return React.Node at the next tick. Need setTimeout\n            setTimeout(function () {\n                _this3.init(_this3.props.getScrollContainer() || _this3.containerRef);\n                _this3.triggerPullToRefresh();\n                _this3._isMounted = true;\n            });\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            // Should have no setTimeout here!\n            this.destroy(this.props.getScrollContainer() || this.containerRef);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var props = _extends({}, this.props);\n            delete props.damping;\n\n            var className = props.className,\n                prefixCls = props.prefixCls,\n                children = props.children,\n                getScrollContainer = props.getScrollContainer,\n                direction = props.direction,\n                onRefresh = props.onRefresh,\n                refreshing = props.refreshing,\n                indicator = props.indicator,\n                distanceToRefresh = props.distanceToRefresh,\n                restProps = __rest(props, [\"className\", \"prefixCls\", \"children\", \"getScrollContainer\", \"direction\", \"onRefresh\", \"refreshing\", \"indicator\", \"distanceToRefresh\"]);\n\n            var renderChildren = React.createElement(StaticRenderer, { shouldUpdate: this.shouldUpdateChildren, render: function render() {\n                    return children;\n                } });\n            var renderRefresh = function renderRefresh(cls) {\n                var cla = classNames(cls, !_this4.state.dragOnEdge && prefixCls + '-transition');\n                return React.createElement(\n                    'div',\n                    { className: prefixCls + '-content-wrapper' },\n                    React.createElement(\n                        'div',\n                        { className: cla, ref: function ref(el) {\n                                return _this4.contentRef = el;\n                            } },\n                        direction === UP ? renderChildren : null,\n                        React.createElement(\n                            'div',\n                            { className: prefixCls + '-indicator' },\n                            indicator[_this4.state.currSt] || INDICATOR[_this4.state.currSt]\n                        ),\n                        direction === DOWN ? renderChildren : null\n                    )\n                );\n            };\n            if (getScrollContainer()) {\n                return renderRefresh(prefixCls + '-content ' + prefixCls + '-' + direction);\n            }\n            return React.createElement(\n                'div',\n                _extends({ ref: function ref(el) {\n                        return _this4.containerRef = el;\n                    }, className: classNames(className, prefixCls, prefixCls + '-' + direction) }, restProps),\n                renderRefresh(prefixCls + '-content')\n            );\n        }\n    }]);\n\n    return PullToRefresh;\n}(React.Component);\n\nexport default PullToRefresh;\n\nPullToRefresh.defaultProps = {\n    prefixCls: 'rmc-pull-to-refresh',\n    getScrollContainer: function getScrollContainer() {\n        return undefined;\n    },\n    direction: DOWN,\n    distanceToRefresh: 25,\n    damping: 100,\n    indicator: INDICATOR,\n    scale: 0.6\n};","import PullToRefresh from './PullToRefresh';\nexport default PullToRefresh;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RPullToRefresh from 'rmc-pull-to-refresh';\nimport { getComponentLocale } from '../_util/getLocale';\nimport Icon from '../icon';\n\nvar PullToRefresh = function (_React$Component) {\n    _inherits(PullToRefresh, _React$Component);\n\n    function PullToRefresh() {\n        _classCallCheck(this, PullToRefresh);\n\n        return _possibleConstructorReturn(this, (PullToRefresh.__proto__ || Object.getPrototypeOf(PullToRefresh)).apply(this, arguments));\n    }\n\n    _createClass(PullToRefresh, [{\n        key: 'render',\n        value: function render() {\n            // tslint:disable-next-line:variable-name\n            var _getComponentLocale = getComponentLocale(this.props, this.context, 'PullToRefresh', function () {\n                return require('./locale/zh_CN');\n            }),\n                activateText = _getComponentLocale.activateText,\n                deactivateText = _getComponentLocale.deactivateText,\n                finishText = _getComponentLocale.finishText;\n\n            var ind = _extends({ activate: activateText, deactivate: deactivateText, release: React.createElement(Icon, { type: 'loading' }), finish: finishText }, this.props.indicator);\n            return React.createElement(RPullToRefresh, _extends({}, this.props, { indicator: ind }));\n        }\n    }]);\n\n    return PullToRefresh;\n}(React.Component);\n\nexport default PullToRefresh;\n\nPullToRefresh.defaultProps = {\n    prefixCls: 'am-pull-to-refresh'\n};\nPullToRefresh.contextTypes = {\n    antLocale: PropTypes.object\n};","import _extends from 'babel-runtime/helpers/extends';\nexport function getComponentLocale(props, context, componentName, getDefaultLocale) {\n    var locale = {};\n    if (context && context.antLocale && context.antLocale[componentName]) {\n        locale = context.antLocale[componentName];\n    } else {\n        var defaultLocale = getDefaultLocale();\n        // TODO: make default lang of antd be English\n        // https://github.com/ant-design/ant-design/issues/6334\n        locale = defaultLocale['default'] || defaultLocale;\n    }\n    var result = _extends({}, locale);\n    if (props.locale) {\n        result = _extends({}, result, props.locale);\n        if (props.locale.lang) {\n            result.lang = _extends({}, locale.lang, props.locale.lang);\n        }\n    }\n    return result;\n}\nexport function getLocaleCode(context) {\n    var localeCode = context.antLocale && context.antLocale.locale;\n    // Had use LocaleProvide but didn't set locale\n    if (context.antLocale && context.antLocale.exist && !localeCode) {\n        return 'zh-cn';\n    }\n    return localeCode;\n}","import React, { useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PullToRefresh } from 'antd-mobile';\nimport useAsyncRetry from 'hooks/useAsyncRetry';\nimport { OrderList } from 'components';\nimport Api from 'utils/api';\nimport Http, { getCookieByName } from 'utils/http';\n\ninterface ITabContentProps {\n  url: string;\n}\n\nconst statusMap = {\n  init: 'info',\n  approving: 'info',\n  rejected: 'error',\n  approved: 'success',\n  building: 'info',\n  deploying: 'info',\n  done: 'success',\n};\n\nconst TabContent = (props: ITabContentProps) => {\n  const history = useHistory();\n  const listRef = useRef<any>(null);\n  const state = useAsyncRetry(async () => {\n    // const response = await Http.get(Api.orderList);\n    const response = await Http.get(props.url);\n    const items = (response as any) || [];\n\n    function renderSubTitle(item) {\n      return <span>审批人：{item.approver}</span>;\n    }\n\n    return items.map(item => {\n      return {\n        dataItem: item,\n        title: item.title,\n        subTitle: renderSubTitle(item),\n        // status: statusMap[item.status] || 'info',\n        status: item.status,\n        extra: (\n          <span>\n            来自 <b style={{ color: '#ee764e' }}>{item.from_msg}</b>\n          </span>\n        ),\n        subExtra: item.updated,\n      };\n    });\n  }, [Api.orderList]);\n\n  const wrapperStyle = {\n    height: `calc(100vh - ${46.5}px)`,\n  };\n\n  const handleListClick = dataItem => {\n    const pathname = `/order/${dataItem.id}`;\n\n    // history.push({\n    //   pathname,\n    //   search: queryString.stringify({\n    //     from: dataItem.from,\n    //   }),\n    // });\n  };\n  // console.info('TabContent==>', Api.orderList, state);\n  return (\n    <div>\n      <PullToRefresh\n        getScrollContainer={() => undefined}\n        distanceToRefresh={50}\n        damping={100}\n        indicator={{}}\n        direction={'down'}\n        refreshing={state.loading}\n        onRefresh={state.retry}\n      >\n        <OrderList onClick={handleListClick} style={wrapperStyle} dataSource={state.value || []} />\n      </PullToRefresh>\n    </div>\n  );\n};\n\nexport default TabContent;\n","import React, { useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport queryString from 'query-string';\nimport Api from 'utils/api';\nimport RouteLayout from 'layouts/RouteLayout';\nimport TabContent from './TabContent';\n\nconst OrderList = props => {\n  const location = useLocation();\n  const history = useHistory();\n  const search = queryString.parse(location.search);\n  return (\n    <div>\n      <RouteLayout pathname=\"/ant\">\n        <TabContent url={Api.orderMyList} />\n      </RouteLayout>\n    </div>\n  );\n};\n\nexport default OrderList;\n"],"sourceRoot":""}